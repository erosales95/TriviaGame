<!DOCTYPE html>
<html>

<head>
    <title>Trivia Game!</title>
    <link rel="stylesheet" type="text/css" href="assets/css/style.css" />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
</head>

<body>
    <h1>Trivia Game!</h1>
    <div>
        <button id="start-game">Start Game</button>
    </div>
    <div id="show-number">
        <h2>Time remaining: 30 seconds.</h2>
    </div>

    <div class="questions">
        <form id="whole-form">
            <div id="first-question">
                <h3>Question0</h3>
                <div class="first-group-answers" value="firstAnswer2">
                    <input type="radio" name="answer0" value="wrong">Answer1
                    <input type="radio" name="answer0" value="correct">Answer2
                    <input type="radio" name="answer0" value="wrong">Answer3
                    <input type="radio" name="answer0" value="wrong">Answer4
                    <br>
                </div>
            </div>

            <div id="second-question">
                <div class="second-group-answers">
                    <h3>Question1</h3>
                    <input type="radio" name="answer1" value="wrong">Answer1
                    <input type="radio" name="answer1" value="wrong">Answer2
                    <input type="radio" name="answer1" value="correct">Answer3
                    <input type="radio" name="answer1" value="wrong">Answer4
                    <br>
                </div>
            </div>

            <div id="third-question">
                <div class="third-group-answers">
                    <h3>Question2</h3>
                    <input type="radio" name="answer2" value="correct">Answer1
                    <input type="radio" name="answer2" value="wrong">Answer2
                    <input type="radio" name="answer2" value="wrong">Answer3
                    <input type="radio" name="answer2" value="wrong">Answer4
                    <br>
                </div>
            </div>

            <div id="fourth-question">
                <h3>Question3</h3>
                <div class="fourth-group-answers">
                    <input type="radio" name="answer3" value="correct">Answer1
                    <input type="radio" name="answer3" value="wrong">Answer2
                    <input type="radio" name="answer3" value="wrong">Answer3
                    <input type="radio" name="answer3" value="wrong">Answer4
                    <br>
                </div>
            </div>

            <div id="fifth-question">
                <h3>Question4</h3>
                <div class="fifth-group-answers">
                    <input type="radio" name="answer4" value="wrong">Answer1
                    <input type="radio" name="answer4" value="wrong">Answer2
                    <input type="radio" name="answer4" value="wrong">Answer3
                    <input type="radio" name="answer4" value="correct">Answer4
                    <br>
                </div>
            </div>

            <input type="submit" id="submit-button">

        </form>

    </div>

    <div class="results">

    </div>

</body>

<script>
    var number = 30;
    var intervalId;
    var correctAns = 0;
    var incorrectAns = 0;
    var unanswered = 0;

    // correctAns = $("#correct-answers");
    // incorrectAns = $("#incorrect-answers");
    // unanswered = $("#unanswered");


    $(".questions").hide();
    $("#show-number").hide();
    $("#submit-button").hide();
    $(".results").hide();

    $("#start-game").on("click", function () {
        $("#start-game").hide();
        $(".questions").show();
        $("#show-number").show();
        $("#submit-button").show();

        if (intervalId) {
            clearInterval(intervalId);
        }
        intervalId = setInterval(decrement, 1000);
        function decrement() {

            number--;

            $("#show-number").html("<h2>Time remaining: " + number + " seconds.</h2>");

            if (number === 0) {
                clearInterval(intervalId);
            }

        }
    });


    $("#whole-form").on("submit", function () {
        event.preventDefault();
        $(".questions").hide();
        $(".results").show();
        $("#show-number").hide();
        console.log($(this).serialize());


        for (var i = 1; i < 5; i++) {

            var radios = document.getElementsByName('answer' + i);

            for (var j = 0; j < radios.length; j++) {

                var radio = radios[j];
                if (radio.value == "correct") {
                    correctAns++;
                } else if (radio.value == null || radio.value == "") {
                    unanswered++;
                } else if (radio.value != "correct") {
                    incorrectAns++;
                }
            }
        }

        //**HERE** This is Where I initially kept my statements before I tried the For-loops.

        // if (answer === "firstAnswer2") {
        //     correctAns++
        // }


        // else if (answer == null || answer == "") {
        //     unanswered++

        // }

        // else if (answer != "firstAnswer2") {
        //     incorrectAns++

        // };
        var html =
            "<p>Correct answers: " + correctAns + "</p> <br>" +
            "<p>Incorrect answers: " + incorrectAns + "</p> <br>" +
            "<p>Unanswered: " + unanswered + "</p> <br>";


        document.querySelector(".results").innerHTML = html;

        console.log('this is our correct answers inside', correctAns);
        console.log('this is our incorrect answers inside', incorrectAns);
        console.log('this is our unanswered spot thing inside', unanswered);

        // $(".results").empty();

    });

//Slack Phil for answers

//I was going to pull

// **************************HERE********************************* 

//Here is where I started my psudocoding. I couldn't figure a part out on how to record the information and display
    //it on the end screen. I tried having help from Karl on Thurday after class and he tried to help me and I wrote down what 
    //he said on lines 207-208. I tried slacking Phil and the #hwhelp channel on slack and I couldn't figure out anything. I'm writing
    //this at 3:19am still stuck as the same position as before. With the intitial statements (lines 157-170) before I tried the
    // for loops, I commented out all the other question (lines 33-75) besides the first question to try to get the first question
    //to function properally before applying them to the rest of the questions. I was going to add to the css and html more after
    //I got all the Javascript working. But it seems I couldn't get around to that and I'm stuck. All that I really have left after
    //that is rewording the html and creating css to make it look good. I'm looking forward to finishing this with Phil and the TA's.   




//                                          **Psudocoding**

//create div around each 4 answers under question and within the div add a data value for the right answer 
//for end game screen, pull the data value $("#whatever Id").attr("data-value")

//create game with working timer and have questions that have multiple answers
//start by having a start screen that has a button marked something like "start game" 
//link that button to a new page and have it start the timer on that new page.
//List out all questions with 4 mulitiple choice answers created as something you can click on(?)
    //only provide one answer clicked at a time. No multiple answers.
//Keep track on the choice clicked and those unclicked
    //for those that are clicked, decide that if it is the right answer or not and record it as right or wrong.
    //if unclicked, record as unanswered.
//Have a submit button on the bottom that opens up to the final results page.
//Show recording of answers of right/wrong/unanswered.
//If timer runs to 0, then jump to final results page no matter what and show recordings.


</script>

</html>